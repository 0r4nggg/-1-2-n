<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>押すたびに当たる確率が減っていくボタン</title>
  <link rel="stylesheet" href="style.css">
  <meta name="description" content="当たる確率が押すごとに(1/2)^nの確率ずつ減っていくボタンです。nは押した回数です。">
  <script>
    var n = 0;
    var decimalPlaces = 2; 
    var increasing = true; 

    function EVENT1() {
      n += 1;
      var probability = 0.5 ** n;
      var result = (Math.random() < probability) ? "当たり！" : "ハズレ";

      
      if (increasing) {
        decimalPlaces += 1;
        if (decimalPlaces >= 12) { 
          increasing = false;
        }
      } else {
        decimalPlaces -= 1;
        if (decimalPlaces <= 2) { 
          increasing = true;
        }
      }

      
      document.getElementById("result").innerText = result;
      document.getElementById("probability").innerText = "現在の確率: " + (probability * 100).toFixed(decimalPlaces) + "%";
    }
  </script>
</head>
<body>
  <div class="container">
    <h1>(1/2)^nボタン（nは押した回数！）</h1>
    <button type="button" onClick="EVENT1()">
      <img src="m-0917-3d-icon.png" width="130" height="100" alt="ボタン">
    </button>
    <p id="result"></p>
  </div>
  <div id="probability">現在の確率: 100.00%</div>
</body>
</html>
